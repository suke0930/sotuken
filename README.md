# Important!!---このREADMEには嘘が多く含まれています---!!!important
# Minecraft Server Manager - ユーザーガイド

Minecraftサーバーの管理を簡単かつ直感的に行える統合サーバー管理システムです。ブラウザ上でサーバーの作成・起動・停止・監視といった一連の操作を完結できます。

---

## 📋 目次

1. [プロジェクト概要](#プロジェクト概要)
2. [システム要件](#システム要件)
3. [クイックスタート](#クイックスタート)
4. [インストール方法](#インストール方法)
5. [初回起動とセットアップ](#初回起動とセットアップ)
6. [基本的な操作方法](#基本的な操作方法)
7. [パフォーマンス設定の目安](#パフォーマンス設定の目安)
8. [セキュリティ設定](#セキュリティ設定)
9. [よくある問題と解決方法](#よくある問題と解決方法)
10. [その他](#その他)

---

## 📖 プロジェクト概要

本システムは、**新潟県内の情報系専門学校 情報学部**の卒業制作として開発された、Minecraftサーバー管理システムです。

### ⭐ 主な機能

- **サーバー管理**: 複数のMinecraftサーバーを一元管理
- **ワンクリック起動**: 簡単な操作でサーバーを起動・停止
- **リアルタイム監視**: サーバーのコンソールをリアルタイムで確認
- **自動インストール**: サーバーソフトウェアとJDKを自動でインストール

---

## 💻 システム要件

| 項目 | 最小要件 | 推奨要件 |
|------|---------|---------|
| **OS** | Windows 10/11 (64-bit) | Windows 10/11 (64-bit) |
| **メモリ (RAM)** | 4GB | 8GB以上 |
| **ディスク容量** | 5GB（空き容量） | 10GB以上（空き容量） |
| **インターネット接続** | 必須（初回セットアップ時） | 安定した接続（推奨） |

> 💡 **注意**: 本アプリケーションは、.exeインストーラーにNode.jsが同梱されています。別途Node.jsをインストールする必要はありません。

---

## 🚀 クイックスタート

**5ステップでサーバーを起動！**

1. **インストール**: [GitHub Releases](https://github.com/suke0930/sotuken/releases) から `.exe` ファイルをダウンロードしてインストール
2. **起動**: デスクトップのショートカットからアプリケーションを起動
3. **登録**: ブラウザでユーザーIDとパスワードを登録
4. **作成**: 「新規作成」タブでサーバーを作成
5. **起動**: サーバーカードの「起動」ボタンをクリック

詳細は以下のセクションを参照してください。

---

## 📦 インストール方法

### Step 1: インストーラーのダウンロード

1. [GitHub Releases](https://github.com/suke0930/sotuken/releases) ページにアクセス
2. 最新バージョンのインストーラー（`.exe`ファイル）をダウンロード
3. ファイル名: `MinecraftServerManager-Setup-vX.X.X.exe`

### Step 2: インストール

1. ダウンロードした`.exe`ファイルをダブルクリック
2. ユーザーアカウント制御（UAC）の警告が表示された場合、「はい」をクリック
3. インストールウィザードに従って進める
   - インストール先: デフォルト（`C:\Program Files\MinecraftServerManager`）またはカスタムパス
   - ショートカット作成: デスクトップ・スタートメニューへの追加（オプション）
4. 「インストール」ボタンをクリックして完了まで待機

> ⚠️ **注意**: 初回起動時、Windows Defenderやアンチウイルスソフトが警告を表示する場合があります。これは正常な動作です。「許可」または「実行」を選択してください。

---

## 🚀 初回起動とセットアップ

### Step 1: アプリケーションの起動

1. デスクトップのショートカット、またはスタートメニューから「Minecraft Server Manager」を起動
2. 起動が完了すると、自動的にブラウザが開きます（URL: `https://localhost:12800`）

> 📸 **スクリーンショット**: ![alt text](https://github.com/suke0930/sotuken/blob/docs/frontend/middleware/main/docs/Images/first_page.png)

### Step 2: SSL証明書の警告に対処

1. ブラウザに「この接続ではプライバシーが保護されません」という警告が表示されます
2. 「詳細設定」→「localhost にアクセスする（安全ではありません）」をクリック

> 📸 **スクリーンショット**: ![alt text](https://github.com/suke0930/sotuken/blob/docs/frontend/middleware/main/docs/Images/unsure_port.png)

### Step 3: ユーザーアカウントの作成

1. 「ユーザー登録」画面で以下を入力：
   - **ユーザーID**: 管理者アカウントのID（英数字、3文字以上）
   - **パスワード**: 安全なパスワード（8文字以上推奨）
2. 「登録して開始」ボタンをクリック

> 📸 **スクリーンショット**: ![alt text](https://github.com/suke0930/sotuken/blob/docs/frontend/middleware/main/docs/Images/signup.png)
> 
> ![alt text](https://github.com/suke0930/sotuken/blob/docs/frontend/middleware/main/docs/Images/login.png)

> 🔐 **セキュリティ**: パスワードは安全に管理してください。このパスワードでアプリケーション全体を管理できます。

---

## 🎮 基本的な操作方法

### サーバーの作成

1. 左側メニューから「➕ 新規作成」をクリック
2. 以下の情報を入力：
   - **サーバー名**: 英数字、アンダースコア、ハイフンのみ（例: `my-server`）
   - **サーバーソフトウェア**: 以下のいずれかから選択
     - **Paper**: パフォーマンス最適化版、プラグイン対応（推奨）
     - **Fabric**: 軽量Mod対応、パフォーマンス重視
     - **Mohist**: プラグインとModの両方に対応
   - **Minecraftバージョン**: 利用可能なバージョンから選択
   - **メモリ設定**: 
     - 個人用: 最小512MB、最大1024MB
     - 友達と遊ぶ（5-10人）: 最小1024MB、最大2048MB
3. 「サーバーを作成」ボタンをクリック
4. 完了まで数分待機（JDKのダウンロードが含まれる場合があります）

> 📸 **スクリーンショット**: ![alt text](https://github.com/suke0930/sotuken/blob/docs/frontend/middleware/main/docs/Images/add_server.png)
> 
> ![alt text](https://github.com/suke0930/sotuken/blob/docs/frontend/middleware/main/docs/Images/server_input.png)
> 
> ![alt text](https://github.com/suke0930/sotuken/blob/docs/frontend/middleware/main/docs/Images/server_creation.png)

### サーバーの起動・停止

1. 「サーバー一覧」タブでサーバーカードを確認
2. **起動**: 「起動」ボタンをクリック → ステータスが「🟢 稼働中」になるまで待機
3. **停止**: 「停止」ボタンをクリック → ステータスが「🔴 停止中」になるまで待機

> 📸 **スクリーンショット**: ![alt text](https://github.com/suke0930/sotuken/blob/docs/frontend/middleware/main/docs/Images/server_run.png)
> 
> ![alt text](https://github.com/suke0930/sotuken/blob/docs/frontend/middleware/main/docs/Images/sever_card.png)

### サーバーに接続

1. Minecraftを起動
2. 「マルチプレイ」→「サーバーを追加」
3. サーバーアドレスに `localhost` または `127.0.0.1` を入力
4. 「完了」をクリックして接続

> 💡 **ヒント**: サーバーが起動するまで1-2分かかる場合があります。コンソールで「Done!」というメッセージが表示されたら準備完了です。

### コンソールの使用

1. サーバーカードの「コンソール」ボタンをクリック
2. リアルタイムでサーバーログが表示されます
3. 下部の入力欄からコマンドを送信できます

**よく使うコマンド**:
- `list` - オンラインプレイヤーの一覧
- `op <プレイヤー名>` - OP権限を付与
- `whitelist add <プレイヤー名>` - ホワイトリストに追加
- `stop` - サーバーを停止

> 📸 **スクリーンショット**: ![alt text](https://github.com/suke0930/sotuken/blob/docs/frontend/middleware/main/docs/Images/console.png)

### server.propertiesの編集

1. サーバーカードの「設定」ボタンをクリック
2. 各プロパティの値を変更
3. 「保存」ボタンをクリック

> 📸 **スクリーンショット**: ![alt text](https://github.com/suke0930/sotuken/blob/docs/frontend/middleware/main/docs/Images/properties_settings.png)

---

## 📊 パフォーマンス設定の目安

プレイヤー数に応じた推奨メモリ設定：

| プレイヤー数 | 最小メモリ | 最大メモリ | 推奨ソフトウェア |
|------------|----------|----------|---------------|
| **1-5人** | 512MB | 1024-2048MB | Paper / Fabric |
| **6-10人** | 1024MB | 2048-3072MB | Paper |
| **11-20人** | 2048MB | 4096-6144MB | Paper / Mohist |

**設定方法**: サーバーカードの「編集」ボタン → 「メモリ設定」を変更 → 「保存」

---

## 🔐 セキュリティ設定

### パスワードポリシー

- **最小要件**: 8文字以上、英数字の組み合わせ
- **推奨**: 12文字以上、英数字 + 記号、大文字・小文字を含む

### 外部接続を許可する場合

**同じネットワーク内**:
1. PCのローカルIPアドレスを確認（`ipconfig`コマンド）
2. 友達に `[IPアドレス]:25565` を共有

**インターネット経由**:
1. **ルーターのポートフォワーディング設定**:
   - ルーター管理画面（通常は `192.168.1.1`）にアクセス
   - 「ポートフォワーディング」で以下を設定：
     - 外部ポート: 25565
     - 内部IP: あなたのPCのローカルIP
     - 内部ポート: 25565
     - プロトコル: TCP

2. **ファイアウォール設定**:
   - Windows Defender ファイアウォール → 「詳細設定」
   - 「受信の規則」→「新しい規則」→「ポート」
   - TCP、ポート25565、接続を許可

3. **パブリックIPアドレスを確認**:
   - `https://whatismyipaddress.com` にアクセス
   - 表示されたIPアドレスを友達に共有

> ⚠️ **警告**: インターネットに公開する場合は、ホワイトリストを有効化し、定期的にバックアップを取得してください。

---

## 🛠️ よくある問題と解決方法

### ❌ サーバーが起動しない

**原因と対処法**:
- **ポート競合**: 他のアプリが同じポートを使用していないか確認（`netstat -ano | findstr :25565`）
- **メモリ不足**: メモリ設定を減らす、または他のアプリを終了
- **JDKの問題**: JDK管理タブでJDKの状態を確認

### 🐌 サーバーが遅い・ラグが発生する

**対処法**:
- 最大メモリを増やす（[パフォーマンス設定の目安](#パフォーマンス設定の目安)を参照）
- Paperに変更（パフォーマンス最適化版）
- server.propertiesの `view-distance` を減らす（10 → 8）

### 🔌 プレイヤーが接続できない

**確認事項**:
- サーバーが「稼働中」ステータスか確認
- ファイアウォールでポート25565が開放されているか確認
- ホワイトリストが有効な場合、プレイヤーが追加されているか確認

### 🚫 JDKのインストールに失敗する

**対処法**:
- インターネット接続を確認
- 十分なディスク容量があるか確認（各JDKに約300MB必要）
- 管理者権限でアプリケーションを実行

### 🌐 ブラウザでアクセスできない

**対処法**:
- URLが `https://localhost:12800` または `https://127.0.0.1:12800` か確認
- アプリケーションが起動しているか確認
- SSL証明書の警告で「詳細設定」→「localhost にアクセスする」をクリック

### 📦 アプリケーションが起動しない

**対処法**:
- PCを再起動
- ログファイルを確認（`C:\Users\[ユーザー名]\AppData\Local\MinecraftServerManager\logs\`）
- アプリケーションを再インストール
- ウイルス対策ソフトがブロックしていないか確認

---

## 📚 その他

### アップデート方法

1. [GitHub Releases](https://github.com/suke0930/sotuken/releases) から最新バージョンをダウンロード
2. **重要**: すべてのサーバーを停止してからアプリケーションを終了
3. 新しいインストーラーを実行（既存インストールを検出して「アップデート」オプションが表示されます）
4. アップデート完了後、アプリケーションを起動して確認

> 💡 **ヒント**: 既存のサーバーとワールドデータは保持されます。

### アンインストール方法

1. **バックアップ**: ワールドデータをバックアップ（`C:\Users\[ユーザー名]\AppData\Local\MinecraftServerManager\userdata\minecraftServ\`）
2. **アンインストール**: 「設定」→「アプリ」→「Minecraft Server Manager」→「アンインストール」
3. **残存データの削除**（オプション）: `AppData\Local\MinecraftServerManager` と `AppData\Roaming\MinecraftServerManager` を手動削除

> ⚠️ **警告**: ユーザーデータを削除すると、すべてのサーバーとワールドデータが完全に削除されます。

### FAQ

**Q: 複数のサーバーを同時に起動できますか？**  
A: はい。各サーバーに異なるポート番号を設定してください。

**Q: サーバーのワールドデータはどこに保存されますか？**  
A: `C:\Users\[ユーザー名]\AppData\Local\MinecraftServerManager\userdata\minecraftServ\[サーバー名]\`

**Q: JDKは手動でインストールする必要がありますか？**  
A: いいえ。サーバー作成時に自動的にインストールされます。

**Q: どのくらいのプレイヤー数まで対応できますか？**  
A: システムリソースによりますが、推奨設定では1-20人に対応できます。

**Q: パスワードを忘れた場合は？**  
A: 現在のバージョンでは、データディレクトリを削除して再登録する必要があります（すべてのサーバーデータが削除されます）。

---

## 📞 サポート

問題が発生した場合：

1. [よくある問題と解決方法](#よくある問題と解決方法)セクションを確認
2. [GitHub Issues](https://github.com/suke0930/sotuken/issues) で既存の問題を検索
3. 新しいIssueを作成して問題を報告

---

## 📄 ライセンス

本ソフトウェアはMITライセンスの下で公開されています。詳細は [LICENSE](./LICENSE) ファイルを参照してください。

### 使用しているライブラリ

- **Temurin (Eclipse Adoptium)**: JDKバイナリの配布に使用
- **Paper API / Fabric API**: Minecraftサーバーソフトウェアの情報取得に使用

---

## 👥 開発チーム

本プロジェクトは、**新潟県内の情報系専門学校 情報学部**の卒業制作として開発されました。

- **Suke**: Project Manager / Backend Developer
- **N**: Frontend Developer
- **S**: Documentation / Tester

---

**最終更新**: 2025年1月  
**バージョン**: 1.0.0
